(this["webpackJsonpreact-kata"]=this["webpackJsonpreact-kata"]||[]).push([[0],{171:function(e,t,a){},172:function(e,t,a){},251:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(32),s=a.n(c),i=a(27),l=(a(171),a(62)),d=a(23),o=a(253),j=a(256),u=a(72),h=(a(172),a(6)),b=o.a.Header,O=o.a.Content,x=o.a.Footer,p=function(e){var t=e.children,a=Object(i.d)();return Object(n.useEffect)((function(){a({type:"FETCH_PEOPLE_START"}),a({type:"FETCH_STARSHIPS_START"})}),[]),Object(h.jsxs)(o.a,{className:"layout",children:[Object(h.jsxs)(b,{children:[Object(h.jsx)("div",{className:"logo",children:Object(h.jsx)(j.a.Title,{children:"SW Manager"})}),Object(h.jsxs)(u.a,{theme:"dark",mode:"horizontal",children:[Object(h.jsx)(u.a.Item,{title:"Home",children:Object(h.jsx)(l.b,{to:"/",children:"Home Base"})},"home"),Object(h.jsx)(u.a.Item,{title:"People",children:Object(h.jsx)(l.b,{to:"/people",children:"People"})},"people"),Object(h.jsx)(u.a.Item,{title:"Starships",children:Object(h.jsx)(l.b,{to:"/starships",children:"Starships"})},"starships")]})]}),Object(h.jsx)(O,{style:{padding:"0 50px",minHeight:"50px"},children:Object(h.jsx)("div",{className:"site-content",children:t})}),Object(h.jsx)(x,{children:"React Kata \xa9 2021"})]})},f=(a(244),a(91)),v=a(50),m=a(71),y=a(254),g=function(){var e=Object(i.d)(),t=[{title:"Name",dataIndex:"name",key:"name"},{title:"Model",dataIndex:"model",key:"model"},{title:"Max Speed",dataIndex:"max_atmosphering_speed",key:"max_atmosphering_speed"},{title:"Crew",dataIndex:"crew",key:"crew"},{title:"Passengers",dataIndex:"passengers",key:"passengers"},{title:"Remove",dataIndex:"name",render:function(t,a,n){return{children:Object(h.jsx)(m.a,{type:"primary",onClick:function(){e(function(e){return{type:"REMOVE_FROM_HANGAR",payload:e}}(n))},children:"Remove"})}}}],a=Object(d.f)(),n=Object(i.e)((function(e){return e.homeBase.hangar})),r=Object(h.jsx)(y.a,{columns:t,dataSource:n}),c=Object(h.jsx)(m.a,{type:"primary",onClick:function(){return a("/starships")},children:"Buy Ships"});return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(j.a.Title,{level:3,children:"Hangar"}),0===n.length?c:r]})},_=a(255),S=a(26),w=a(157),E=a(257),T=function(e){return function(t){var a=t.loading,n=Object(w.a)(t,["loading"]);return e?Object(h.jsx)(E.a,{loading:a,avatar:!0,active:!0,children:Object(h.jsx)(e,Object(S.a)({},n))}):null}},C=function(e){return Object(i.b)((function(e){return{loading:e.people.loading}}))(T(e))},k=a(258),R=a(130),A=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100;return"https://www.gravatar.com/avatar/".concat(R.Md5.hashStr(e),"?d=identicon&s=").concat(t)},H=function(e){return R.Md5.hashStr(e)},I=function(e){var t=e.name;return""===t?null:Object(h.jsx)(k.a,{alt:"Gravatar",src:A(t,100),size:100})},P=r.a.memo(I),M=C((function(){var e=Math.floor(82*Math.random()),t=Object(i.e)((function(t){return t.people.list[e]}),i.c),a=Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(j.a.Title,{level:3,children:"Featured Person"}),Object(h.jsxs)(_.a,{title:null===t||void 0===t?void 0:t.name,style:{width:300,textAlign:"center"},children:[Object(h.jsx)(f.a,{justify:"center",children:Object(h.jsx)(P,{name:null===t||void 0===t?void 0:t.name})}),Object(h.jsxs)(f.a,{justify:"space-between",children:[Object(h.jsx)(v.a,{className:"row-header",children:"Birth Year"}),Object(h.jsx)(v.a,{children:null===t||void 0===t?void 0:t.birth_year})]}),Object(h.jsxs)(f.a,{justify:"space-between",children:[Object(h.jsx)(v.a,{className:"row-header",children:"Gender"}),Object(h.jsx)(v.a,{className:"title-case",children:null===t||void 0===t?void 0:t.gender})]}),Object(h.jsxs)(f.a,{justify:"space-between",children:[Object(h.jsx)(v.a,{className:"row-header",children:"Height"}),Object(h.jsx)(v.a,{children:null===t||void 0===t?void 0:t.height})]}),Object(h.jsxs)(f.a,{justify:"space-between",children:[Object(h.jsx)(v.a,{className:"row-header",children:"Hair Color"}),Object(h.jsx)(v.a,{children:null===t||void 0===t?void 0:t.hair_color})]}),Object(h.jsxs)(f.a,{justify:"space-between",children:[Object(h.jsx)(v.a,{className:"row-header",children:"Eye Color"}),Object(h.jsx)(v.a,{children:null===t||void 0===t?void 0:t.eye_color})]}),Object(h.jsxs)(f.a,{justify:"space-between",children:[Object(h.jsx)(v.a,{className:"row-header",children:"Skin Color"}),Object(h.jsx)(v.a,{children:null===t||void 0===t?void 0:t.skin_color})]})]})]});return t?a:null})),N=function(e){return Object(i.b)((function(e){return{loading:e.starships.loading}}))(T(e))},F=a(64),D=function(e){var t=Object(n.useState)("fc5e038d38a57032085441e7fe7010b0"),a=Object(F.a)(t,2),r=a[0],c=a[1],s=16,i=function(e,t,a,n){n.beginPath(),n.rect(8+e*s,8+t*s,s,s),n.fillStyle="rgb("+a.join(",")+")",n.fill()},l=function(){for(var e=[],t=0;t<3;t++){var a=Math.floor(16*parseInt(r[t],16)),n=Math.max(120,a),c=Math.min(200,n);e.push(c)}return e},d=Object(n.useRef)(null);return Object(n.useEffect)((function(){c(H(e.name))}),[e.name]),Object(n.useEffect)((function(){var e=d.current.getContext("2d");e.width=96,e.height=96,function(e){e.beginPath(),e.rect(0,0,96,96),e.fillStyle="#F0ECE6",e.fill();for(var t=l(),a=0;a<Math.ceil(2.5);a++)for(var n=0;n<5;n++){var c=5*a+n;c>r.length&&(c-=r.length),parseInt(r[c],16)<8&&(i(a,n,t,e),a<Math.floor(2.5)&&i(4-a,n,t,e))}}(e)}),[r]),Object(h.jsx)("div",{style:{width:"100px",height:"100px"},children:Object(h.jsx)("canvas",Object(S.a)({ref:d},e))})},L=r.a.memo(D),B=N((function(){var e=Math.floor(36*Math.random()),t=Object(i.e)((function(t){return t.starships.list[e]}),i.c),a=Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(j.a.Title,{level:3,children:"Featured Starship"}),Object(h.jsxs)(_.a,{title:null===t||void 0===t?void 0:t.name,style:{width:300,textAlign:"center"},children:[Object(h.jsxs)(f.a,{justify:"center",children:[Object(h.jsx)(L,{name:null===t||void 0===t?void 0:t.name}),Object(h.jsxs)("i",{children:[null===t||void 0===t?void 0:t.model," / ",null===t||void 0===t?void 0:t.manufacturer]})]}),Object(h.jsxs)(f.a,{justify:"space-between",children:[Object(h.jsx)(v.a,{className:"row-header",children:"Cost"}),Object(h.jsx)(v.a,{children:null===t||void 0===t?void 0:t.cost_in_credits})]}),Object(h.jsxs)(f.a,{justify:"space-between",children:[Object(h.jsx)(v.a,{className:"row-header",children:"Crew"}),Object(h.jsx)(v.a,{children:null===t||void 0===t?void 0:t.crew})]}),Object(h.jsxs)(f.a,{justify:"space-between",children:[Object(h.jsx)(v.a,{className:"row-header",children:"Passengers"}),Object(h.jsx)(v.a,{children:null===t||void 0===t?void 0:t.passengers})]}),Object(h.jsxs)(f.a,{justify:"space-between",children:[Object(h.jsx)(v.a,{className:"row-header",children:"Cargo Capacity"}),Object(h.jsx)(v.a,{children:null===t||void 0===t?void 0:t.cargo_capacity})]}),Object(h.jsxs)(f.a,{justify:"space-between",children:[Object(h.jsx)(v.a,{className:"row-header",children:"Consumables"}),Object(h.jsx)(v.a,{children:null===t||void 0===t?void 0:t.consumables})]}),Object(h.jsxs)(f.a,{justify:"space-between",children:[Object(h.jsx)(v.a,{className:"row-header",children:"Hyperdrive Rating"}),Object(h.jsx)(v.a,{children:null===t||void 0===t?void 0:t.hyperdrive_rating})]})]})]});return t?a:null})),G=function(){var e=Object(i.d)(),t=[{title:"Name",dataIndex:"name",key:"name"},{title:"Gender",dataIndex:"gender",key:"gender"},{title:"Height",dataIndex:"height",key:"height"},{title:"Birth Year",dataIndex:"birth_year",key:"birth_year"},{title:"Remove",dataIndex:"name",render:function(t,a,n){return{children:Object(h.jsx)(m.a,{type:"primary",onClick:function(){e(function(e){return{type:"REMOVE_FROM_SQUAD",payload:e}}(n))},children:"Remove"})}}}],a=Object(d.f)(),n=Object(i.e)((function(e){return e.homeBase.squad})),r=Object(h.jsx)(y.a,{columns:t,dataSource:n}),c=Object(h.jsx)(m.a,{type:"primary",onClick:function(){return a("/people")},children:"Build your Squad"});return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(j.a.Title,{level:3,children:"Squad Members"}),0===n.length?c:r]})},U=function(){return Object(h.jsx)("div",{children:Object(h.jsxs)(f.a,{justify:"space-around",children:[Object(h.jsxs)(v.a,{span:5,children:[Object(h.jsx)(M,{}),Object(h.jsx)("br",{}),Object(h.jsx)(B,{})]}),Object(h.jsx)(v.a,{span:8,children:Object(h.jsx)(G,{})}),Object(h.jsx)(v.a,{span:10,children:Object(h.jsx)(g,{})})]})})},q=a(259),Q=a(158),V=function(e){return e.homeBase.squad},z=function(e){var t=Object(i.e)((function(t){return(a=null===e||void 0===e?void 0:e.name,Object(Q.a)([V],(function(e){return e.filter((function(e){return e.name===a})).length>0})))(t);var a})),a=Object(i.d)();return Object(h.jsxs)(_.a,{bordered:!1,style:{width:300,textAlign:"center",display:e?"":"none"},children:[Object(h.jsx)(f.a,{justify:"center",children:Object(h.jsxs)(q.b,{direction:"vertical",children:[Object(h.jsx)(P,{name:null===e||void 0===e?void 0:e.name}),Object(h.jsx)(j.a.Title,{level:3,children:null===e||void 0===e?void 0:e.name})]})}),Object(h.jsxs)(f.a,{justify:"space-between",children:[Object(h.jsx)(v.a,{className:"row-header",children:"Birth Year"}),Object(h.jsx)(v.a,{children:null===e||void 0===e?void 0:e.birth_year})]}),Object(h.jsxs)(f.a,{justify:"space-between",children:[Object(h.jsx)(v.a,{className:"row-header",children:"Gender"}),Object(h.jsx)(v.a,{className:"title-case",children:null===e||void 0===e?void 0:e.gender})]}),Object(h.jsxs)(f.a,{justify:"space-between",children:[Object(h.jsx)(v.a,{className:"row-header",children:"Height"}),Object(h.jsx)(v.a,{children:null===e||void 0===e?void 0:e.height})]}),Object(h.jsxs)(f.a,{justify:"space-between",children:[Object(h.jsx)(v.a,{className:"row-header",children:"Hair Color"}),Object(h.jsx)(v.a,{children:null===e||void 0===e?void 0:e.hair_color})]}),Object(h.jsxs)(f.a,{justify:"space-between",children:[Object(h.jsx)(v.a,{className:"row-header",children:"Eye Color"}),Object(h.jsx)(v.a,{children:null===e||void 0===e?void 0:e.eye_color})]}),Object(h.jsxs)(f.a,{justify:"space-between",children:[Object(h.jsx)(v.a,{className:"row-header",children:"Skin Color"}),Object(h.jsx)(v.a,{children:null===e||void 0===e?void 0:e.skin_color})]}),Object(h.jsx)(f.a,{justify:"center",children:Object(h.jsx)(m.a,{type:"primary",onClick:function(t){a({type:"REQUEST_ADD_TO_SQUAD",payload:null===e||void 0===e?void 0:e.name})},disabled:t,children:"Hire"})})]})},Y=r.a.memo(z),J=C((function(){var e=Object(i.e)((function(e){return e.people.list}),i.c).map((function(e,t){return Object(h.jsx)(_.a.Grid,{style:{width:"25%",textAlign:"center"},children:Object(h.jsx)(Y,Object(S.a)({},e))},t)}));return Object(h.jsx)("div",{children:Object(h.jsx)(_.a,{children:e})})})),K=function(){return Object(h.jsx)("div",{children:Object(h.jsx)(J,{})})},W=N((function(){var e=Object(i.d)(),t=[{title:"Name",dataIndex:"name",key:"name"},{title:"Model",dataIndex:"model",key:"model"},{title:"Manufacturer",dataIndex:"manufacturer",key:"manufacturer"},{title:"Cost in Credits",dataIndex:"cost_in_credits",key:"cost_in_credits"},{title:"Length",dataIndex:"length",key:"length"},{title:"Max Speed",dataIndex:"max_atmosphering_speed",key:"max_atmosphering_speed"},{title:"Crew",dataIndex:"crew",key:"crew"},{title:"Passengers",dataIndex:"passengers",key:"passengers"},{title:"Cargo Capacity",dataIndex:"cargo_capacity",key:"cargo_capacity"},{title:"Consumables",dataIndex:"consumables",key:"consumables"},{title:"Hyperdrive Rating",dataIndex:"hyperdrive_rating",key:"hyperdrive_rating"},{title:"MGLT",dataIndex:"MGLT",key:"MGLT"},{title:"Starship Class",dataIndex:"starship_class",key:"starship_class"},{title:"Add to Hangar",dataIndex:"name",render:function(t,a,n){return{children:Object(h.jsxs)(q.b,{direction:"vertical",align:"center",children:[Object(h.jsx)(L,{name:t,size:!0}),Object(h.jsx)(m.a,{type:"primary",onClick:function(){e({type:"REQUEST_ADD_TO_HANGAR",payload:t})},children:"Add"})]})}}}],a=Object(i.e)((function(e){return e.starships.list.map((function(e,t){return Object(S.a)(Object(S.a)({},e),{},{key:t})}))}));return Object(h.jsx)(y.a,{columns:t,dataSource:a})}));var X=function(){return Object(h.jsx)(l.a,{basename:"react-kata",children:Object(h.jsx)(p,{children:Object(h.jsxs)(d.c,{children:[Object(h.jsx)(d.a,{path:"/",element:Object(h.jsx)(U,{})}),Object(h.jsx)(d.a,{path:"/people",element:Object(h.jsx)(K,{})}),Object(h.jsx)(d.a,{path:"/starships",element:Object(h.jsx)(W,{})})]})})})},Z=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,260)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,c=t.getLCP,s=t.getTTFB;a(e),n(e),r(e),c(e),s(e)}))},$=a(90),ee=(a(250),a(154)),te=a(30),ae=a.n(te),ne=a(31),re=a(153),ce=ae.a.mark(de),se=ae.a.mark(oe),ie=ae.a.mark(je),le=ae.a.mark(ue);function de(e){var t,a;return ae.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(ne.d)((function(e){return e.people.list}));case 2:return t=n.sent,a=t.filter((function(t){return t.name===e.payload})),n.next=6,Object(ne.c)({type:"ADD_TO_SQUAD",payload:a});case 6:case"end":return n.stop()}}),ce)}function oe(e){var t,a,n,r,c;return ae.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,Object(ne.d)((function(e){return e.starships.list}));case 2:return t=s.sent,s.next=5,Object(ne.d)((function(e){return e.homeBase.hangar}));case 5:return a=s.sent,s.next=8,Object(ne.d)((function(e){return e.homeBase.hangarCapacity}));case 8:if(n=s.sent,"Death Star"!==(r=e.payload)){s.next=14;break}re.b.error("Dream on! Death Star is off limits"),s.next=22;break;case 14:if(!(a.length<n)){s.next=21;break}return c=t.filter((function(e){return e.name===r})),s.next=18,Object(ne.c)({type:"ADD_TO_HANGAR",payload:c});case 18:re.b.info("Added to hangar: ".concat(r)),s.next=22;break;case 21:re.b.error("Hangar is fully occupied");case 22:case"end":return s.stop()}}),se)}function je(){return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ne.e)("REQUEST_ADD_TO_SQUAD",de);case 2:case"end":return e.stop()}}),ie)}function ue(){return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ne.e)("REQUEST_ADD_TO_HANGAR",oe);case 2:case"end":return e.stop()}}),le)}var he=a(47),be=a(131),Oe="https://swapi.dev/api",xe={PEOPLE:"".concat(Oe,"/people/"),PLANETS:"".concat(Oe,"/planets/"),FILMS:"".concat(Oe,"/films/"),SPECIES:"".concat(Oe,"/species/"),VEHICLES:"".concat(Oe,"/vehicles/"),STARSHIPS:"".concat(Oe,"/starships/")},pe=function(e){return Object(be.a)(ae.a.mark((function t(){var a;return ae.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=[],t.next=3,fetch(e).then((function(e){return e.json()})).then((function(e){return a=e.results,e.count})).then((function(t){for(var a=Math.ceil(t/10),n=[],r=2;r<=a;r++)n.push(fetch("".concat(e,"?page=").concat(r)));return Promise.all(n)})).then((function(e){return Promise.all(e.map((function(e){return e.json()})))})).then((function(e){a=e.reduce((function(e,t){return[].concat(Object(he.a)(e),Object(he.a)(t.results))}),a)}));case 3:return t.abrupt("return",a);case 4:case"end":return t.stop()}}),t)})))()},fe=ae.a.mark(me),ve=ae.a.mark(ye);function me(){var e;return ae.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(ne.b)(pe,xe.PEOPLE);case 3:return e=t.sent,t.next=6,Object(ne.c)({type:"FETCH_PEOPLE_SUCCESS",payload:e});case 6:t.next=12;break;case 8:return t.prev=8,t.t0=t.catch(0),t.next=12,Object(ne.c)({type:"FETCH_PEOPLE_ERROR",payload:t.t0});case 12:case"end":return t.stop()}}),fe,null,[[0,8]])}function ye(){return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ne.e)("FETCH_PEOPLE_START",me);case 2:case"end":return e.stop()}}),ve)}var ge=ae.a.mark(Se),_e=ae.a.mark(we);function Se(){var e;return ae.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(ne.b)(pe,xe.STARSHIPS);case 3:return e=t.sent,t.next=6,Object(ne.c)({type:"FETCH_STARSHIPS_SUCCESS",payload:e});case 6:t.next=12;break;case 8:return t.prev=8,t.t0=t.catch(0),t.next=12,Object(ne.c)({type:"FETCH_STARSHIPS_ERROR",payload:t.t0.message||t.t0});case 12:case"end":return t.stop()}}),ge,null,[[0,8]])}function we(){return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ne.e)("FETCH_STARSHIPS_START",Se);case 2:case"end":return e.stop()}}),_e)}var Ee=ae.a.mark(Te);function Te(){return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ne.a)([Object(ne.b)(ye),Object(ne.b)(we),Object(ne.b)(je),Object(ne.b)(ue)]);case 2:case"end":return e.stop()}}),Ee)}var Ce={list:[],loading:!1,error:null},ke=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ce,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_PEOPLE_START":return Object(S.a)(Object(S.a)({},e),{},{loading:!0});case"FETCH_PEOPLE_SUCCESS":return Object(S.a)(Object(S.a)({},e),{},{loading:!1,list:t.payload});case"FETCH_PEOPLE_ERROR":return Object(S.a)(Object(S.a)({},e),{},{loading:!1,error:t.payload});default:return e}},Re={list:[],loading:!1,error:null},Ae=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Re,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_STARSHIPS_START":return Object(S.a)(Object(S.a)({},e),{},{loading:!0});case"FETCH_STARSHIPS_SUCCESS":return Object(S.a)(Object(S.a)({},e),{},{loading:!1,list:t.payload});case"FETCH_STARSHIPS_ERROR":return Object(S.a)(Object(S.a)({},e),{},{loading:!1,error:t.payload});default:return e}},He={squad:[],squadMax:10,hangar:[],hangarCapacity:10},Ie=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:He,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_TO_SQUAD":return Object(S.a)(Object(S.a)({},e),{},{squad:e.squad.length<e.squadMax?[].concat(Object(he.a)(e.squad),Object(he.a)(t.payload)):e.squad});case"ADD_TO_HANGAR":return Object(S.a)(Object(S.a)({},e),{},{hangar:e.hangar.length<e.hangarCapacity?[].concat(Object(he.a)(e.hangar),Object(he.a)(t.payload)):e.hangar});case"REMOVE_FROM_SQUAD":var a=Object(he.a)(e.squad);return a.splice(t.payload,1),Object(S.a)(Object(S.a)({},e),{},{squad:a});case"REMOVE_FROM_HANGAR":var n=Object(he.a)(e.hangar);return n.splice(t.payload,1),Object(S.a)(Object(S.a)({},e),{},{hangar:n});default:return e}},Pe=Object(ee.a)(),Me=[Pe];var Ne=Object($.b)({people:ke,starships:Ae,homeBase:Ie}),Fe=Object($.d)(Ne,$.a.apply(void 0,Me));Pe.run(Te);var De=Fe;s.a.render(Object(h.jsx)(i.a,{store:De,children:Object(h.jsx)(X,{})}),document.getElementById("root")),Z()}},[[251,1,2]]]);
//# sourceMappingURL=main.46d1204c.chunk.js.map